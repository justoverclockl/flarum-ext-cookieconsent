{"version":3,"sources":["webpack://@justoverclock/flarum-ext-cookieconsent/webpack/bootstrap","webpack://@justoverclock/flarum-ext-cookieconsent/./forum.js","webpack://@justoverclock/flarum-ext-cookieconsent/./src/forum/CookieConsent.js","webpack://@justoverclock/flarum-ext-cookieconsent/./src/forum/index.js","webpack://@justoverclock/flarum-ext-cookieconsent/external \"flarum.core.compat['common/extend']\"","webpack://@justoverclock/flarum-ext-cookieconsent/external \"flarum.core.compat['forum/app']\"","webpack://@justoverclock/flarum-ext-cookieconsent/external \"flarum.core.compat['forum/components/HeaderPrimary']\""],"names":["$","fn","ihavecookies","options","$element","settings","extend","cookieTypes","type","app","translator","trans","value","description","delay","expires","advancedBtnLabel","onAccept","uncheckBoxes","myCookie","getCookie","myCookiePrefs","fixedCookieTypeDesc","fixedCookieTypeLabel","each","index","field","cookieTypeDescription","cookieMessage","title","message","link","moreInfoLabel","cookieTypesTitle","acceptBtnLabel","setTimeout","append","hide","fadeIn","on","dropCookie","prop","prefs","serializeArray","i","push","setCookie","JSON","stringify","call","attr","slideDown","cookieVal","cookie","preferences","parse","preference","cookieTypeValue","control","indexOf","expiryDays","fadeOut","remove","name","expiry_days","d","Date","setTime","getTime","toUTCString","document","cookie_name","decodedCookie","decodeURIComponent","ca","split","length","c","charAt","substring","jQuery","ready","forum","attribute","myPreferences","ggg","s","o","g","r","a","m","q","arguments","l","createElement","getElementsByTagName","async","src","parentNode","insertBefore","window","ga","pub","adscode","innerHTML","initializers","add","HeaderPrimary","prototype","CookieConsent"],"mappings":";;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA,wC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAGe,2EAAY;AACzB,GAAC,UAAUA,CAAV,EAAa;AACZA,KAAC,CAACC,EAAF,CAAKC,YAAL,GAAoB,UAAUC,OAAV,EAAmB;AACrC,UAAIC,QAAQ,GAAGJ,CAAC,CAAC,IAAD,CAAhB;AACA,UAAIK,QAAQ,GAAGL,CAAC,CAACM,MAAF,CACb;AACEC,mBAAW,EAAE,CACX;AACEC,cAAI,EAAEC,uDAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,+CAArB,CADR;AAEEC,eAAK,EAAE,WAFT;AAGEC,qBAAW,EAAEJ,uDAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,+CAArB;AAHf,SADW,EAMX;AACEH,cAAI,EAAGC,uDAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,wCAArB,CADT;AAEEC,eAAK,EAAE,SAFT;AAGEC,qBAAW,EAAEJ,uDAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,kDAArB;AAHf,SANW,CADf;AAaEG,aAAK,EAAE,IAbT;AAcEC,eAAO,EAAE,EAdX;AAeEC,wBAAgB,EAAEP,uDAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,8CAArB,CAfpB;AAgBEM,gBAAQ,EAAE,oBAAY,CAAE,CAhB1B;AAiBEC,oBAAY,EAAE;AAjBhB,OADa,EAoBbf,OApBa,CAAf;AAsBA,UAAIgB,QAAQ,GAAGC,SAAS,CAAC,eAAD,CAAxB;AACA,UAAIC,aAAa,GAAGD,SAAS,CAAC,oBAAD,CAA7B;;AAEA,UAAI,CAACD,QAAD,IAAa,CAACE,aAAlB,EAAiC;AAC/B,YAAId,WAAW,GACb,qHACAF,QAAQ,CAACiB,mBADT,GAEA,IAFA,GAGAjB,QAAQ,CAACkB,oBAHT,GAIA,eALF;AAMAvB,SAAC,CAACwB,IAAF,CAAOnB,QAAQ,CAACE,WAAhB,EAA6B,UAAUkB,KAAV,EAAiBC,KAAjB,EAAwB;AACnD,cAAIA,KAAK,CAAClB,IAAN,KAAe,EAAf,IAAqBkB,KAAK,CAACd,KAAN,KAAgB,EAAzC,EAA6C;AAE3C,gBAAIe,qBAAqB,GAAG,EAA5B;;AACA,gBAAID,KAAK,CAACb,WAAN,KAAsB,KAA1B,EAAiC;AAC/Bc,mCAAqB,GAAG,aAAaD,KAAK,CAACb,WAAnB,GAAiC,GAAzD;AACD;;AACDN,uBAAW,IACT,oDACAmB,KAAK,CAACd,KADN,GAEA,yBAFA,GAGAc,KAAK,CAACd,KAHN,GAIA,gDAJA,GAKAc,KAAK,CAACd,KALN,GAMA,GANA,GAOAe,qBAPA,GAQA,GARA,GASAD,KAAK,CAAClB,IATN,GAUA,eAXF;AAYD;AACF,SApBD;AAqBA,YAAIoB,aAAa,GACf,uCACAvB,QAAQ,CAACwB,KADT,GAEA,UAFA,GAGAxB,QAAQ,CAACyB,OAHT,GAIA,YAJA,GAKAzB,QAAQ,CAAC0B,IALT,GAMA,IANA,GAOA1B,QAAQ,CAAC2B,aAPT,GAQA,4DARA,GASA3B,QAAQ,CAAC4B,gBATT,GAUA,WAVA,GAWA1B,WAXA,GAYA,8DAZA,GAaAF,QAAQ,CAAC6B,cAbT,GAcA,2DAdA,GAeA7B,QAAQ,CAACW,gBAfT,GAgBA,qBAjBF;AAmBAmB,kBAAU,CAAC,YAAY;AACrBnC,WAAC,CAACI,QAAD,CAAD,CAAYgC,MAAZ,CAAmBR,aAAnB;AACA5B,WAAC,CAAC,sBAAD,CAAD,CAA0BqC,IAA1B,GAAiCC,MAAjC,CAAwC,MAAxC;AACD,SAHS,EAGPjC,QAAQ,CAACS,KAHF,CAAV;AAKAd,SAAC,CAAC,MAAD,CAAD,CAAUuC,EAAV,CAAa,OAAb,EAAsB,qBAAtB,EAA6C,YAAY;AACvDC,oBAAU,CAAC,IAAD,EAAOnC,QAAQ,CAACU,OAAhB,CAAV;AACAf,WAAC,CAAC,sCAAD,CAAD,CAA0CyC,IAA1C,CAA+C,SAA/C,EAA0D,IAA1D;AAEA,cAAIC,KAAK,GAAG,EAAZ;AACA1C,WAAC,CAACwB,IAAF,CAAOxB,CAAC,CAAC,sBAAD,CAAD,CAA0B2C,cAA1B,EAAP,EAAmD,UAAUC,CAAV,EAAalB,KAAb,EAAoB;AACrEgB,iBAAK,CAACG,IAAN,CAAWnB,KAAK,CAACd,KAAjB;AACD,WAFD;AAIAkC,mBAAS,CAAC,oBAAD,EAAuBC,IAAI,CAACC,SAAL,CAAeN,KAAf,CAAvB,EAA8C,GAA9C,CAAT;AACArC,kBAAQ,CAACY,QAAT,CAAkBgC,IAAlB,CAAuB,IAAvB;AACD,SAXD;AAaAjD,SAAC,CAAC,MAAD,CAAD,CAAUuC,EAAV,CAAa,OAAb,EAAsB,uBAAtB,EAA+C,YAAY;AACzDvC,WAAC,CAAC,qCAAD,CAAD,CAAyCkD,IAAzC,CAA8C,WAA9C,EAA2D,KAA3D,EAAkET,IAAlE,CAAuE,SAAvE,EAAkF,KAAlF;AACAzC,WAAC,CAAC,oBAAD,CAAD,CAAwBmD,SAAxB,CAAkC,MAAlC,EAA0C,YAAY;AACpDnD,aAAC,CAAC,uBAAD,CAAD,CAA2ByC,IAA3B,CAAgC,UAAhC,EAA4C,IAA5C;AACD,WAFD;AAGD,SALD;AAMD,OAvED,MAuEO;AACL,YAAIW,SAAS,GAAG,IAAhB;;AACA,YAAIjC,QAAQ,KAAK,OAAjB,EAA0B;AACxBiC,mBAAS,GAAG,KAAZ;AACD;;AACDZ,kBAAU,CAACY,SAAD,EAAY/C,QAAQ,CAACU,OAArB,CAAV;AACD;;AACD,UAAIV,QAAQ,CAACa,YAAT,KAA0B,IAA9B,EAAoC;AAClClB,SAAC,CAAC,qCAAD,CAAD,CAAyCyC,IAAzC,CAA8C,SAA9C,EAAyD,KAAzD;AACD;AACF,KA5GD;;AA6GAzC,KAAC,CAACC,EAAF,CAAKC,YAAL,CAAkBmD,MAAlB,GAA2B,YAAY;AACrC,UAAIC,WAAW,GAAGlC,SAAS,CAAC,oBAAD,CAA3B;AACA,aAAO2B,IAAI,CAACQ,KAAL,CAAWD,WAAX,CAAP;AACD,KAHD;;AAIAtD,KAAC,CAACC,EAAF,CAAKC,YAAL,CAAkBsD,UAAlB,GAA+B,UAAUC,eAAV,EAA2B;AACxD,UAAIC,OAAO,GAAGtC,SAAS,CAAC,eAAD,CAAvB;AACA,UAAIkC,WAAW,GAAGlC,SAAS,CAAC,oBAAD,CAA3B;AACAkC,iBAAW,GAAGP,IAAI,CAACQ,KAAL,CAAWD,WAAX,CAAd;;AACA,UAAII,OAAO,KAAK,KAAhB,EAAuB;AACrB,eAAO,KAAP;AACD;;AACD,UAAIJ,WAAW,KAAK,KAAhB,IAAyBA,WAAW,CAACK,OAAZ,CAAoBF,eAApB,MAAyC,CAAC,CAAvE,EAA0E;AACxE,eAAO,KAAP;AACD;;AACD,aAAO,IAAP;AACD,KAXD;;AAYA,QAAIjB,UAAU,GAAG,SAAbA,UAAa,CAAU5B,KAAV,EAAiBgD,UAAjB,EAA6B;AAC5Cd,eAAS,CAAC,eAAD,EAAkBlC,KAAlB,EAAyBgD,UAAzB,CAAT;AACA5D,OAAC,CAAC,sBAAD,CAAD,CAA0B6D,OAA1B,CAAkC,MAAlC,EAA0C,YAAY;AACpD7D,SAAC,CAAC,IAAD,CAAD,CAAQ8D,MAAR;AACD,OAFD;AAGD,KALD;;AAMA,QAAIhB,SAAS,GAAG,SAAZA,SAAY,CAAUiB,IAAV,EAAgBnD,KAAhB,EAAuBoD,WAAvB,EAAoC;AAClD,UAAIC,CAAC,GAAG,IAAIC,IAAJ,EAAR;AACAD,OAAC,CAACE,OAAF,CAAUF,CAAC,CAACG,OAAF,KAAcJ,WAAW,GAAG,EAAd,GAAmB,EAAnB,GAAwB,EAAxB,GAA6B,IAArD;AACA,UAAIjD,OAAO,GAAG,aAAakD,CAAC,CAACI,WAAF,EAA3B;AACAC,cAAQ,CAACjB,MAAT,GAAkBU,IAAI,GAAG,GAAP,GAAanD,KAAb,GAAqB,GAArB,GAA2BG,OAA3B,GAAqC,SAAvD;AACA,aAAOK,SAAS,CAAC2C,IAAD,CAAhB;AACD,KAND;;AAOA,QAAI3C,SAAS,GAAG,SAAZA,SAAY,CAAU2C,IAAV,EAAgB;AAC9B,UAAIQ,WAAW,GAAGR,IAAI,GAAG,GAAzB;AACA,UAAIS,aAAa,GAAGC,kBAAkB,CAACH,QAAQ,CAACjB,MAAV,CAAtC;AACA,UAAIqB,EAAE,GAAGF,aAAa,CAACG,KAAd,CAAoB,GAApB,CAAT;;AACA,WAAK,IAAI/B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8B,EAAE,CAACE,MAAvB,EAA+BhC,CAAC,EAAhC,EAAoC;AAClC,YAAIiC,CAAC,GAAGH,EAAE,CAAC9B,CAAD,CAAV;;AACA,eAAOiC,CAAC,CAACC,MAAF,CAAS,CAAT,KAAe,GAAtB,EAA2B;AACzBD,WAAC,GAAGA,CAAC,CAACE,SAAF,CAAY,CAAZ,CAAJ;AACD;;AACD,YAAIF,CAAC,CAAClB,OAAF,CAAUY,WAAV,MAA2B,CAA/B,EAAkC;AAChC,iBAAOM,CAAC,CAACE,SAAF,CAAYR,WAAW,CAACK,MAAxB,EAAgCC,CAAC,CAACD,MAAlC,CAAP;AACD;AACF;;AACD,aAAO,KAAP;AACD,KAdD;AAeD,GA1JD,EA0JGI,MA1JH;;AA4JAhF,GAAC,CAACsE,QAAD,CAAD,CAAYW,KAAZ,CAAkB,YAAY;AAC5BjF,KAAC,CAAC,MAAD,CAAD,CAAUE,YAAV,CAAuB;AACrB2B,WAAK,EAAE,QAAQpB,uDAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,sCAArB,CADM;AAErBmB,aAAO,EAAErB,uDAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,2CAArB,CAFY;AAGrBG,WAAK,EAAE,GAHc;AAIrBC,aAAO,EAAE,CAJY;AAKrBgB,UAAI,EAAEtB,uDAAG,CAACyE,KAAJ,CAAUC,SAAV,CAAoB,qBAApB,CALe;AAMpBlE,cAAQ,EAAE,oBAAY;AACrB,YAAImE,aAAa,GAAGpF,CAAC,CAACC,EAAF,CAAKC,YAAL,CAAkBmD,MAAlB,EAApB;AACD,OARoB;AASrBnC,kBAAY,EAAE,IATO;AAUrBgB,oBAAc,EAAEzB,uDAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,8CAArB,CAVK;AAWrBqB,mBAAa,EAAEvB,uDAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,yCAArB,CAXM;AAYrBsB,sBAAgB,EAAExB,uDAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,+CAArB,CAZG;AAarBY,0BAAoB,EAAEd,uDAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,gDAArB,CAbD;AAcrBW,yBAAmB,EAAEb,uDAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,uDAArB;AAdA,KAAvB,EAD4B,CAiB5B;;AACA,QAAIX,CAAC,CAACC,EAAF,CAAKC,YAAL,CAAkBsD,UAAlB,CAA6B,WAA7B,MAA8C,IAAlD,EAAwD;AACtD,UAAI6B,GAAG,GAAG5E,uDAAG,CAACyE,KAAJ,CAAUC,SAAV,CAAoB,iBAApB,CAAV,CADsD,CAEtD;;AACA,OAAC,UAAUvC,CAAV,EAAa0C,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyBC,CAAzB,EAA4BC,CAA5B,EAA+B;AAC9B/C,SAAC,CAAC,uBAAD,CAAD,GAA6B6C,CAA7B;AACC7C,SAAC,CAAC6C,CAAD,CAAD,GACC7C,CAAC,CAAC6C,CAAD,CAAD,IACA,YAAY;AACV,WAAC7C,CAAC,CAAC6C,CAAD,CAAD,CAAKG,CAAL,GAAShD,CAAC,CAAC6C,CAAD,CAAD,CAAKG,CAAL,IAAU,EAApB,EAAwB/C,IAAxB,CAA6BgD,SAA7B;AACD,SAJH,EAKGjD,CAAC,CAAC6C,CAAD,CAAD,CAAKK,CAAL,GAAS,IAAI,IAAI5B,IAAJ,EALhB;AAMCwB,SAAC,GAAGJ,CAAC,CAACS,aAAF,CAAgBR,CAAhB,CAAL,EAA2BI,CAAC,GAAGL,CAAC,CAACU,oBAAF,CAAuBT,CAAvB,EAA0B,CAA1B,CAA/B;AACAG,SAAC,CAACO,KAAF,GAAU,CAAV;AACAP,SAAC,CAACQ,GAAF,GAAQV,CAAR;AACAG,SAAC,CAACQ,UAAF,CAAaC,YAAb,CAA0BV,CAA1B,EAA6BC,CAA7B;AACD,OAZD,EAYGU,MAZH,EAYW/B,QAZX,EAYqB,QAZrB,EAY+B,+CAZ/B,EAYgF,IAZhF;;AAcAgC,QAAE,CAAC,QAAD,EAAW7F,uDAAG,CAACyE,KAAJ,CAAUC,SAAV,CAAoB,iBAApB,CAAX,EAAmD,MAAnD,CAAF;AACAmB,QAAE,CAAC,MAAD,EAAS,UAAT,CAAF;AACD,KArC2B,CAsC5B;;;AACA,QAAItG,CAAC,CAACC,EAAF,CAAKC,YAAL,CAAkBsD,UAAlB,CAA6B,SAA7B,MAA4C,IAAhD,EAAsD;AACpD;AACA,UAAI+C,GAAG,GAAG9F,uDAAG,CAACyE,KAAJ,CAAUC,SAAV,CAAoB,KAApB,CAAV;AACA,UAAMqB,OAAO,iCAA8BD,GAA9B,8FAAb;AACAjC,cAAQ,CAAC0B,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCS,SAAzC,IAAsDD,OAAtD;AACD;AACF,GA7CD;AA8CD,C;;;;;;;;;;;;AC9MD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA/F,uDAAG,CAACiG,YAAJ,CAAiBC,GAAjB,CAAqB,wCAArB,EAA+D,YAAM;AACnErG,qEAAM,CAACsG,4EAAa,CAACC,SAAf,EAA0B,UAA1B,EAAsCC,sDAAtC,CAAN;AACD,CAFD,E;;;;;;;;;;;ACLA,qD;;;;;;;;;;;ACAA,iD;;;;;;;;;;;ACAA,sE","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\n","import app from 'flarum/forum/app';\n\n\nexport default function () {\n  (function ($) {\n    $.fn.ihavecookies = function (options) {\n      var $element = $(this);\n      var settings = $.extend(\n        {\n          cookieTypes: [\n            {\n              type: app.translator.trans('flarum-ext-cookieconsent.forum.analyticslabel'),\n              value: 'analytics',\n              description: app.translator.trans('flarum-ext-cookieconsent.forum.ganalyticsdesc'),\n            },\n            {\n              type:  app.translator.trans('flarum-ext-cookieconsent.forum.adsense'),\n              value: 'adsense',\n              description: app.translator.trans('flarum-ext-cookieconsent.forum.adsensecookiedesc'),\n            },\n          ],\n          delay: 2000,\n          expires: 30,\n          advancedBtnLabel: app.translator.trans('flarum-ext-cookieconsent.forum.managecookies'),\n          onAccept: function () {},\n          uncheckBoxes: false,\n        },\n        options\n      );\n      var myCookie = getCookie('cookieControl');\n      var myCookiePrefs = getCookie('cookieControlPrefs');\n\n      if (!myCookie || !myCookiePrefs) {\n        var cookieTypes =\n          '<li><input type=\"checkbox\" name=\"gdpr[]\" value=\"necessary\" checked=\"checked\" disabled=\"disabled\"> <label title=\"' +\n          settings.fixedCookieTypeDesc +\n          '\">' +\n          settings.fixedCookieTypeLabel +\n          '</label></li>';\n        $.each(settings.cookieTypes, function (index, field) {\n          if (field.type !== '' && field.value !== '') {\n\n            var cookieTypeDescription = '';\n            if (field.description !== false) {\n              cookieTypeDescription = ' title=\"' + field.description + '\"';\n            }\n            cookieTypes +=\n              '<li><input type=\"checkbox\" id=\"gdpr-cookietype-' +\n              field.value +\n              '\" name=\"gdpr[]\" value=\"' +\n              field.value +\n              '\" data-auto=\"on\"> <label for=\"gdpr-cookietype-' +\n              field.value +\n              '\"' +\n              cookieTypeDescription +\n              '>' +\n              field.type +\n              '</label></li>';\n          }\n        });\n        var cookieMessage =\n          '<div id=\"gdpr-cookie-message\"><h4>' +\n          settings.title +\n          '</h4><p>' +\n          settings.message +\n          ' <a href=\"' +\n          settings.link +\n          '\">' +\n          settings.moreInfoLabel +\n          '</a><div id=\"gdpr-cookie-types\" style=\"display:none;\"><h5>' +\n          settings.cookieTypesTitle +\n          '</h5><ul>' +\n          cookieTypes +\n          '</ul></div><p><button id=\"gdpr-cookie-accept\" type=\"button\">' +\n          settings.acceptBtnLabel +\n          '</button><button id=\"gdpr-cookie-advanced\" type=\"button\">' +\n          settings.advancedBtnLabel +\n          '</button></p></div>';\n\n        setTimeout(function () {\n          $($element).append(cookieMessage);\n          $('#gdpr-cookie-message').hide().fadeIn('slow');\n        }, settings.delay);\n\n        $('body').on('click', '#gdpr-cookie-accept', function () {\n          dropCookie(true, settings.expires);\n          $('input[name=\"gdpr[]\"][data-auto=\"on\"]').prop('checked', true);\n\n          var prefs = [];\n          $.each($('input[name=\"gdpr[]\"]').serializeArray(), function (i, field) {\n            prefs.push(field.value);\n          });\n\n          setCookie('cookieControlPrefs', JSON.stringify(prefs), 365);\n          settings.onAccept.call(this);\n        });\n\n        $('body').on('click', '#gdpr-cookie-advanced', function () {\n          $('input[name=\"gdpr[]\"]:not(:disabled)').attr('data-auto', 'off').prop('checked', false);\n          $('#gdpr-cookie-types').slideDown('fast', function () {\n            $('#gdpr-cookie-advanced').prop('disabled', true);\n          });\n        });\n      } else {\n        var cookieVal = true;\n        if (myCookie === 'false') {\n          cookieVal = false;\n        }\n        dropCookie(cookieVal, settings.expires);\n      }\n      if (settings.uncheckBoxes === true) {\n        $('input[type=\"checkbox\"].ihavecookies').prop('checked', false);\n      }\n    };\n    $.fn.ihavecookies.cookie = function () {\n      var preferences = getCookie('cookieControlPrefs');\n      return JSON.parse(preferences);\n    };\n    $.fn.ihavecookies.preference = function (cookieTypeValue) {\n      var control = getCookie('cookieControl');\n      var preferences = getCookie('cookieControlPrefs');\n      preferences = JSON.parse(preferences);\n      if (control === false) {\n        return false;\n      }\n      if (preferences === false || preferences.indexOf(cookieTypeValue) === -1) {\n        return false;\n      }\n      return true;\n    };\n    var dropCookie = function (value, expiryDays) {\n      setCookie('cookieControl', value, expiryDays);\n      $('#gdpr-cookie-message').fadeOut('fast', function () {\n        $(this).remove();\n      });\n    };\n    var setCookie = function (name, value, expiry_days) {\n      var d = new Date();\n      d.setTime(d.getTime() + expiry_days * 24 * 60 * 60 * 1000);\n      var expires = 'expires=' + d.toUTCString();\n      document.cookie = name + '=' + value + ';' + expires + ';path=/';\n      return getCookie(name);\n    };\n    var getCookie = function (name) {\n      var cookie_name = name + '=';\n      var decodedCookie = decodeURIComponent(document.cookie);\n      var ca = decodedCookie.split(';');\n      for (var i = 0; i < ca.length; i++) {\n        var c = ca[i];\n        while (c.charAt(0) == ' ') {\n          c = c.substring(1);\n        }\n        if (c.indexOf(cookie_name) === 0) {\n          return c.substring(cookie_name.length, c.length);\n        }\n      }\n      return false;\n    };\n  })(jQuery);\n\n  $(document).ready(function () {\n    $('body').ihavecookies({\n      title: '🍪 ' + app.translator.trans('flarum-ext-cookieconsent.forum.title'),\n      message: app.translator.trans('flarum-ext-cookieconsent.forum.cookietext'),\n      delay: 600,\n      expires: 1,\n      link: app.forum.attribute('LinkToPrivacyPolicy'),\n       onAccept: function () {\n        var myPreferences = $.fn.ihavecookies.cookie();\n      },\n      uncheckBoxes: true,\n      acceptBtnLabel: app.translator.trans('flarum-ext-cookieconsent.forum.acceptcookies'),\n      moreInfoLabel: app.translator.trans('flarum-ext-cookieconsent.forum.moreinfo'),\n      cookieTypesTitle: app.translator.trans('flarum-ext-cookieconsent.forum.cookietoaccept'),\n      fixedCookieTypeLabel: app.translator.trans('flarum-ext-cookieconsent.forum.necessarycookie'),\n      fixedCookieTypeDesc: app.translator.trans('flarum-ext-cookieconsent.forum.necessarycookietooltip'),\n    });\n    //parte dedicata a google analytics\n    if ($.fn.ihavecookies.preference('analytics') === true) {\n      var ggg = app.forum.attribute('GoogleAnalytics');\n      // Codice di google Analytics\n      (function (i, s, o, g, r, a, m) {\n        i['GoogleAnalyticsObject'] = r;\n        (i[r] =\n          i[r] ||\n          function () {\n            (i[r].q = i[r].q || []).push(arguments);\n          }),\n          (i[r].l = 1 * new Date());\n        (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);\n        a.async = 1;\n        a.src = g;\n        m.parentNode.insertBefore(a, m);\n      })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');\n\n      ga('create', app.forum.attribute('GoogleAnalytics'), 'auto');\n      ga('send', 'pageview');\n    }\n    //Parte dedicata ad adsense\n    if ($.fn.ihavecookies.preference('adsense') === true) {\n      // Codice di google Adsense\n      let pub = app.forum.attribute('pub');\n      const adscode = `<script data-ad-client=\"${pub}\" async src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"></script>`;\n      document.getElementsByTagName(\"head\")[0].innerHTML += adscode;\n    }\n  });\n}\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport HeaderPrimary from \"flarum/forum/components/HeaderPrimary\";\nimport CookieConsent from './CookieConsent';\n\napp.initializers.add('justoverclock/flarum-ext-cookieconsent', () => {\n  extend(HeaderPrimary.prototype, 'oncreate', CookieConsent);\n});\n\n","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['forum/app'];","module.exports = flarum.core.compat['forum/components/HeaderPrimary'];"],"sourceRoot":""}